{"version":3,"sources":["server.js","assets/cross.svg","components/Modal.js","components/ChessGame.js","assets/lock.svg","components/ServerList.js","components/Button.js","components/Form.js","containers/CreateRoomForm.js","assets/arrow.svg","App.js","index.js"],"names":["host","window","location","hostname","socket","io","connect","transports","SocketContext","createContext","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","SvgCross","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","width","height","viewBox","style","enableBackground","xmlSpace","ref","ForwardRef","Modal","errorStyle","handleClick","children","visible","className","aria-hidden","onClick","ChessGame","calcMovable","dests","Map","chess","SQUARES","forEach","square","moves","verbose","set","map","move","to","free","color","room","playerColor","state","turn","onMove","from","len","flags","setState","pendingMove","selectVisible","promotion","fen","lastMove","afterMove","piece","Chess","undefined","result","desc","context","on","sendMoveToServer","checkResult","emit","roomId","in_checkmate","in_stalemate","in_threefold_repetition","insufficient_material","turnColor","movable","orientation","check","in_check","animation","duration","drawable","defaultSnapToValidMove","endGame","React","Component","contextType","SvgLock","preserveAspectRatio","ServerList","restProps","useContext","useState","rooms","setRooms","useEffect","serverRooms","scope","Item","roomName","name","creator","player","password","colSpan","Button","extraClass","Form","handleSubmit","onSubmit","event","preventDefault","CreateRoomForm","setRoomName","roomPassword","setRoomPassword","TextInput","label","placeholder","value","required","onChange","Submit","maxLength","type","SvgArrow","App","username","setUsername","setRoom","setPlayerColor","showMenu","setShowMenu","modal","setModal","leaveRoom","newRoom","joinRoom","createRoom","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.c3a05075.chunk.js","sourcesContent":["import { io } from \"socket.io-client\";\r\nimport { createContext } from \"react\";\r\n\r\nconst host =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:4000\"\r\n    : \"https://reinhardtr.herokuapp.com\";\r\n\r\nexport const socket = io.connect(host, {\r\n  transports: [\"websocket\"],\r\n});\r\n\r\nexport const SocketContext = createContext();\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M121.325,10.925l-8.5-8.399c-2.3-2.3-6.1-2.3-8.5,0l-42.4,42.399L18.726,1.726c-2.301-2.301-6.101-2.301-8.5,0l-8.5,8.5 c-2.301,2.3-2.301,6.1,0,8.5l43.1,43.1l-42.3,42.5c-2.3,2.3-2.3,6.1,0,8.5l8.5,8.5c2.3,2.3,6.1,2.3,8.5,0l42.399-42.4l42.4,42.4 c2.3,2.3,6.1,2.3,8.5,0l8.5-8.5c2.3-2.3,2.3-6.1,0-8.5l-42.5-42.4l42.4-42.399C123.625,17.125,123.625,13.325,121.325,10.925z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgCross(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"123.05px\",\n    height: \"123.05px\",\n    viewBox: \"0 0 123.05 123.05\",\n    style: {\n      enableBackground: \"new 0 0 123.05 123.05\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCross);\nexport default __webpack_public_path__ + \"static/media/cross.89d3697e.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { ReactComponent as CrossIcon } from \"../assets/cross.svg\";\r\n\r\nexport default function Modal({\r\n  errorStyle,\r\n  title,\r\n  handleClick,\r\n  children,\r\n  visible,\r\n}) {\r\n  return (\r\n    visible && (\r\n      <div className=\"fixed z-50 inset-0 overflow-y-auto\">\r\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n          <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n            <div\r\n              className=\"absolute inset-0 bg-gray-500 opacity-75\"\r\n              onClick={handleClick}\r\n            ></div>\r\n          </div>\r\n          <span\r\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            &#8203;\r\n          </span>\r\n          <div\r\n            className={`${\r\n              errorStyle ? \"border-tertiary\" : \"border-primary\"\r\n            } inline-block bg-white border-2 rounded-lg shadow-xl transform transition-all sm:my-8 sm:align-middle w-auto p-4`}\r\n          >\r\n            <span className=\"flex absolute h-4 w-4 top-0 right-0 -mt-1 -mr-1\">\r\n              <span\r\n                className={`${\r\n                  errorStyle ? \"bg-tertiary\" : \"bg-primary-gradient\"\r\n                } animate-ping absolute inline-flex h-full w-full rounded-full opacity-75`}\r\n              ></span>\r\n              <span\r\n                className={`${\r\n                  errorStyle ? \"bg-tertiary\" : \"bg-primary-gradient\"\r\n                } relative inline-flex rounded-full h-4 w-4`}\r\n              ></span>\r\n            </span>\r\n            <div className=\"text-left flex justify-center items-center\">\r\n              {handleClick && (\r\n                <CrossIcon\r\n                  onClick={handleClick}\r\n                  className=\"text-neutral hover:text-secondary cursor-pointer absolute right-4 top-4 w-4 h-4 fill-current\"\r\n                />\r\n              )}\r\n\r\n              <div className=\"text-secondary text-3xl font-bold my-1\">\r\n                <div className=\"text-center\">{title}</div>\r\n                {children}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { SocketContext } from \"../server\";\r\nimport Chess from \"chess.js\";\r\nimport Chessground from \"react-chessground\";\r\nimport \"react-chessground/dist/styles/chessground.css\";\r\nimport Modal from \"./Modal\";\r\n\r\nexport default class ChessGame extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.chess = new Chess();\r\n\r\n    this.state = {\r\n      turn: \"white\",\r\n      lastMove: undefined,\r\n      pendingMove: undefined,\r\n      fen: \"start\",\r\n      selectVisible: false,\r\n      result: { title: \"\", desc: \"\" },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.room) {\r\n      this.context.on(\"move\", (move) => {\r\n        this.chess.move(move);\r\n        this.setState({\r\n          turn: this.props.playerColor,\r\n          lastMove: move,\r\n          fen: this.chess.fen(),\r\n        });\r\n      });\r\n\r\n      this.context.on(\"you-won\", (desc) => {\r\n        this.setState({\r\n          result: {\r\n            title: \"You lost\",\r\n            desc,\r\n          },\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  calcMovable = () => {\r\n    const dests = new Map();\r\n    this.chess.SQUARES.forEach((square) => {\r\n      const moves = this.chess.moves({ square, verbose: true });\r\n      if (moves.length) {\r\n        dests.set(\r\n          square,\r\n          moves.map((move) => move.to)\r\n        );\r\n      }\r\n    });\r\n\r\n    return {\r\n      free: false,\r\n      dests,\r\n      color: this.props.room ? this.props.playerColor : this.state.turn,\r\n    };\r\n  };\r\n\r\n  onMove = (from, to) => {\r\n    const moves = this.chess.moves({ verbose: true });\r\n    for (let i = 0, len = moves.length; i < len; i++) {\r\n      if (moves[i].flags.indexOf(\"p\") !== -1 && moves[i].from === from) {\r\n        this.setState({\r\n          pendingMove: [from, to],\r\n          selectVisible: true,\r\n        });\r\n      }\r\n    }\r\n    if (this.chess.move({ from, to, promotion: \"x\" })) {\r\n      this.setState(\r\n        {\r\n          fen: this.chess.fen(),\r\n          lastMove: { from, to },\r\n        },\r\n        () => {\r\n          this.afterMove();\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  afterMove() {\r\n    const color = this.props.room ? this.props.playerColor : this.state.turn;\r\n    this.setState({\r\n      turn: color === \"white\" ? \"black\" : \"white\",\r\n    });\r\n    if (this.props.room) this.sendMoveToServer();\r\n    this.checkResult();\r\n  }\r\n\r\n  sendMoveToServer() {\r\n    this.context.emit(\"move\", {\r\n      roomId: this.props.room.id,\r\n      move: this.state.lastMove,\r\n    });\r\n  }\r\n\r\n  promotion = (piece) => {\r\n    const move = {\r\n      from: this.state.pendingMove[0],\r\n      to: this.state.pendingMove[1],\r\n      promotion: piece,\r\n    };\r\n    this.chess.move(move);\r\n    this.setState(\r\n      {\r\n        fen: this.chess.fen(),\r\n        lastMove: move,\r\n        selectVisible: false,\r\n      },\r\n      () => {\r\n        this.afterMove();\r\n      }\r\n    );\r\n  };\r\n\r\n  checkResult() {\r\n    if (this.chess.in_checkmate()) {\r\n      this.setState({\r\n        result: {\r\n          title: \"You won\",\r\n          desc: \"Checkmate.\",\r\n        },\r\n      });\r\n      this.context.emit(\"checkmate\", this.props.room.id);\r\n    } else if (this.chess.in_stalemate()) {\r\n      this.setState({\r\n        result: {\r\n          title: \"Draw\",\r\n          desc: \"Stalemate position.\",\r\n        },\r\n      });\r\n    } else if (this.chess.in_threefold_repetition()) {\r\n      this.setState({\r\n        result: {\r\n          title: \"Draw\",\r\n          desc: \"Threefold repitition.\",\r\n        },\r\n      });\r\n    } else if (this.chess.insufficient_material()) {\r\n      this.setState({\r\n        result: {\r\n          title: \"Draw\",\r\n          desc: \"Insufficient material.\",\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"bg-white flex justify-center items-center\">\r\n        <Chessground\r\n          width=\"100vmin\"\r\n          height=\"100vmin\"\r\n          turnColor={this.state.turn}\r\n          movable={this.calcMovable()}\r\n          lastMove={this.lastMove}\r\n          fen={this.state.fen}\r\n          onMove={this.onMove}\r\n          orientation={this.props.playerColor}\r\n          check={this.chess.in_check()}\r\n          animation={{ duration: 500 }}\r\n          drawable={{ defaultSnapToValidMove: false }}\r\n        />\r\n        <Modal visible={this.state.selectVisible} title=\"Promotion\">\r\n          {[\"q\", \"r\", \"b\", \"n\"].map((piece) => (\r\n            <div\r\n              className=\"group flex justify-center items-center w-24 h-24 transition-all rounded-full transform hover:bg-blue-500 hover:scale-110 text-center\"\r\n              key={piece}\r\n            >\r\n              <div\r\n                onClick={() => this.promotion(piece)}\r\n                className={`piece ${this.state.turn}-${piece} w-5/6 h-5/6 transition-all transform group-hover:-translate-y-1`}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Modal>\r\n        <Modal\r\n          visible={this.state.result.title}\r\n          title={this.state.result.title}\r\n          handleClick={() => this.props.endGame()}\r\n        >\r\n          <p className=\"text-base\">{this.state.result.desc}</p>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nChessGame.contextType = SocketContext;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M18 10v-4c0-3.313-2.687-6-6-6s-6 2.687-6 6v4h-3v14h18v-14h-3zm-10 0v-4c0-2.206 1.794-4 4-4s4 1.794 4 4v4h-8z\"\n});\n\nfunction SvgLock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    preserveAspectRatio: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLock);\nexport default __webpack_public_path__ + \"static/media/lock.1c30db89.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { SocketContext } from \"../server\";\r\nimport { ReactComponent as LockIcon } from \"../assets/lock.svg\";\r\n\r\nexport default function ServerList({ handleClick, children, ...restProps }) {\r\n  const socket = useContext(SocketContext);\r\n\r\n  const [rooms, setRooms] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"req-server-rooms\");\r\n  }, [socket]);\r\n\r\n  socket.on(\"get-server-rooms\", (serverRooms) => {\r\n    setRooms(serverRooms);\r\n  });\r\n\r\n  return (\r\n    <div {...restProps} className=\"flex flex-col w-auto h-4/5\">\r\n      <div className=\"-my-2 overflow-x-auto py-2 align-middle inline-block min-w-full\">\r\n        <div className=\"shadow overflow-hidden border-b border-gray-200 rounded-lg\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr className=\"text-secondary text-xs font-medium text-left tracking-wider\">\r\n                <th scope=\"col\" className=\"p-1\"></th>\r\n                <th scope=\"col\" className=\"pr-6 py-3\">\r\n                  ROOM NAME\r\n                </th>\r\n                <th scope=\"col\" className=\"px-6 py-3\">\r\n                  PLAYERS\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200 px-4\">\r\n              {rooms.length ? (\r\n                rooms.map((room) => (\r\n                  <ServerList.Item\r\n                    key={room.id}\r\n                    roomName={room.name}\r\n                    creator={room.creator.name}\r\n                    player={room.player.name}\r\n                    password={room.password}\r\n                    handleClick={() => handleClick(room)}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"3\" className=\"text-center font-medium\">\r\n                    <div className=\"text-tertiary m-2\">No rooms</div>\r\n                    <div className=\"text-secondary m-2\">\r\n                      Create a room to play online\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nServerList.Item = ({ handleClick, roomName, creator, player, password }) => {\r\n  return (\r\n    <tr onClick={handleClick} className=\"cursor-pointer h-16\">\r\n      <td className=\"px-2\">\r\n        {password && (\r\n          <LockIcon className=\"text-tertiary block w-6 h-6 fill-current\" />\r\n        )}\r\n      </td>\r\n      <td className=\"py-2 whitespace-nowrap\">\r\n        <div className=\"flex items-center ml-1 text-sm font-medium text-secondary\">\r\n          {roomName}\r\n        </div>\r\n      </td>\r\n      <td className=\"px-6 py-2 whitespace-nowrap text-sm\">\r\n        <div>{creator}</div>\r\n        <div>{player}</div>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport default function Button({\r\n  extraClass = \"bg-primary-gradient\",\r\n  handleClick,\r\n  children,\r\n  ...restProps\r\n}) {\r\n  return (\r\n    <button\r\n      onClick={handleClick}\r\n      {...restProps}\r\n      className={`${extraClass} text-white font-medium rounded-full w-auto cursor-pointer p-4 transform transition hover:scale-110 focus:outline-none focus:ring focus:ring-secondary shadow-2xl`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Form({ handleSubmit, children }) {\r\n  const handleSubmitEvent = (event) => {\r\n    event.preventDefault();\r\n    handleSubmit();\r\n  };\r\n\r\n  return (\r\n    <div className=\"block text-sm font-medium text-secondary w-96\">\r\n      <form onSubmit={handleSubmitEvent} className=\"flex flex-col space-y-4\">\r\n        {children}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nForm.TextInput = ({ label, ...restProps }) => {\r\n  return (\r\n    <div className=\"mt-1 relative rounded-md shadow-sm flex flex-col space-y-0.5\">\r\n      <label className=\"text-xl\">{label}</label>\r\n      <input\r\n        {...restProps}\r\n        maxLength=\"20\"\r\n        className=\"text-xl focus:outline-none focus:ring-2 focus:ring-primary border border-neutral rounded-lg p-1 pl-2.5\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nForm.Submit = ({ value }) => {\r\n  return (\r\n    <input\r\n      type=\"submit\"\r\n      value={value}\r\n      className=\"bg-primary-gradient text-white font-bold rounded-full w-auto self-end cursor-pointer p-4 transform transition hover:scale-110 focus:outline-none focus:ring focus:ring-secondary\"\r\n    />\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Form from \"../components/Form\";\r\n\r\nexport default function CreateRoomForm({ handleSubmit }) {\r\n  const [roomName, setRoomName] = useState(\"\");\r\n  const [roomPassword, setRoomPassword] = useState(\"\");\r\n\r\n  return (\r\n    <Form handleSubmit={() => handleSubmit(roomName, roomPassword)}>\r\n      <Form.TextInput\r\n        label={\"Room Name\"}\r\n        placeholder={\"Name of the room\"}\r\n        value={roomName}\r\n        required={true}\r\n        onChange={({ target }) => setRoomName(target.value)}\r\n      />\r\n      <Form.TextInput\r\n        label={\"Room Password\"}\r\n        placeholder={\"Public room if empty\"}\r\n        value={roomPassword}\r\n        onChange={({ target }) => setRoomPassword(target.value)}\r\n      />\r\n      <Form.Submit value=\"CREATE ROOM\" />\r\n    </Form>\r\n  );\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12 c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028 c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265 c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 492.004 492.004\",\n    style: {\n      enableBackground: \"new 0 0 492.004 492.004\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrow);\nexport default __webpack_public_path__ + \"static/media/arrow.1260e6bc.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext, useState } from \"react\";\r\nimport ChessGame from \"./components/ChessGame\";\r\nimport { SocketContext } from \"./server\";\r\nimport ServerList from \"./components/ServerList\";\r\nimport Button from \"./components/Button\";\r\nimport Modal from \"./components/Modal\";\r\nimport Form from \"./components/Form\";\r\nimport CreateRoomForm from \"./containers/CreateRoomForm\";\r\nimport { ReactComponent as ArrowIcon } from \"./assets/arrow.svg\";\r\n\r\nexport default function App() {\r\n  const socket = useContext(SocketContext);\r\n\r\n  const [username, setUsername] = useState(\"Guest\");\r\n  const [room, setRoom] = useState();\r\n  const [playerColor, setPlayerColor] = useState(\"white\");\r\n  const [showMenu, setShowMenu] = useState(true);\r\n  const [modal, setModal] = useState(\"\");\r\n\r\n  const createRoom = ({ name, password }) => {\r\n    const newRoom = {\r\n      id: socket.id,\r\n      name,\r\n      password,\r\n      creator: {\r\n        name: username,\r\n        id: socket.id,\r\n      },\r\n      player: {\r\n        name: \"\",\r\n        id: \"\",\r\n      },\r\n    };\r\n    socket.emit(\"create-room\", newRoom);\r\n    setModal(\"\");\r\n    setRoom(newRoom);\r\n  };\r\n\r\n  const joinRoom = (newRoom) => {\r\n    if (room) {\r\n      setModal(\"You're already in a room.\");\r\n      return;\r\n    } else if (newRoom.player.name) {\r\n      setModal(\"That room is already full.\");\r\n      return;\r\n    }\r\n    socket.emit(\"join-room\", { username, id: newRoom.id });\r\n    setRoom(newRoom);\r\n    setPlayerColor(\"black\");\r\n  };\r\n\r\n  const leaveRoom = () => {\r\n    socket.emit(\"leave-room\", room);\r\n    setRoom();\r\n    setPlayerColor(\"white\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative h-screen w-screen overflow-hidden bg-secondary\">\r\n        <div\r\n          className={`absolute flex inset-y-0 left-0 z-10  h-screen ${\r\n            showMenu ? \"animate-slide-in\" : \"animate-slide-out\"\r\n          }`}\r\n        >\r\n          <div className=\"relative flex flex-col justify-between items-center bg-white p-4 shadow-2xl space-y-2\">\r\n            <Form.TextInput\r\n              label=\"Username\"\r\n              value={username}\r\n              onChange={({ target }) => setUsername(target.value)}\r\n            />\r\n            <span className=\"text-xl self-start text-secondary pt-4\">\r\n              Rooms\r\n            </span>\r\n            <ServerList handleClick={(newRoom) => joinRoom(newRoom)} />\r\n            <Button\r\n              extraClass={room ? \"bg-tertiary\" : \"bg-primary-gradient\"}\r\n              handleClick={() =>\r\n                room ? leaveRoom() : setModal(\"Create a room\")\r\n              }\r\n            >\r\n              {room ? \"LEAVE ROOM\" : \"CREATE ROOM\"}\r\n            </Button>\r\n          </div>\r\n          <div className=\"relative m-2\">\r\n            <Button\r\n              extraClass={\"bg-secondary\"}\r\n              handleClick={() => setShowMenu(!showMenu)}\r\n            >\r\n              <ArrowIcon\r\n                className={`w-4 h-4 fill-current animate-rotate-${showMenu}`}\r\n              />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"absolute inset-y-0 right-0 z-0\">\r\n          <div className=\"flex justify-center items-center w-screen h-screen\">\r\n            <ChessGame\r\n              key={room}\r\n              room={room}\r\n              playerColor={playerColor}\r\n              endGame={() => leaveRoom()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        visible={modal}\r\n        errorStyle={modal === \"That room is already full.\"}\r\n        title={modal}\r\n        handleClick={() => setModal(\"\")}\r\n      >\r\n        {modal === \"Create a room\" && (\r\n          <CreateRoomForm\r\n            handleSubmit={(roomName, roomPassword) => {\r\n              createRoom({\r\n                name: roomName,\r\n                password: roomPassword,\r\n              });\r\n            }}\r\n          />\r\n        )}\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\nimport { SocketContext, socket } from \"./server\";\r\n\r\nReactDOM.render(\r\n  <SocketContext.Provider value={socket}>\r\n    <App />\r\n  </SocketContext.Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}
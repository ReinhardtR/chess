(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(2),r=n(49),a=n.n(r),i=n(9),o=n(50),l=n(51),u=n.n(l),b=n(52),f=n.n(b);n(104);function j(e){var t=e.children;return e.visible&&Object(s.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:Object(s.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(s.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:Object(s.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),Object(s.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(s.jsxs)("div",{className:"inline-block bg-white border-2 border-blue-500 rounded-lg shadow-xl transform transition-all sm:my-8 sm:align-middle w-auto p-4",children:[Object(s.jsxs)("span",{className:"flex absolute h-4 w-4 top-0 right-0 -mt-1 -mr-1",children:[Object(s.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-500 opacity-75"}),Object(s.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-blue-600"})]}),Object(s.jsx)("div",{className:"flex justify-center items-center space-x-8",children:t})]})]})})}var m=n(30),d=n(54);function h(e){var t=e.text,n=Object(d.a)(e,["text"]),r=Object(c.useState)(""),a=Object(i.a)(r,2),o=a[0],l=a[1];return setTimeout((function(){o.length>=3?l(""):l(o+".")}),800),Object(s.jsxs)("div",Object(m.a)(Object(m.a)({className:"flex flex-col text-center"},n),{},{children:[Object(s.jsx)("div",{className:"loading-icon w-full h-full"}),t,o]}))}var x=o.io.connect("http://localhost:4000",{transports:["websocket"],upgrade:!1}),v=new u.a;function O(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),o=Object(i.a)(a,2),l=o[0],u=o[1],b=Object(c.useState)(),m=Object(i.a)(b,2),d=m[0],O=m[1],p=Object(c.useState)(""),g=Object(i.a)(p,2),w=g[0],N=g[1],y=Object(c.useState)(!1),k=Object(i.a)(y,2),S=k[0],E=k[1];x.on("connect",(function(){r(!1)})),Object(c.useEffect)((function(){x.emit("msg",w)}),[w]),Object(c.useEffect)((function(){x.on("msg",(function(e){N(e)}))}),[N]);var M=function(){var e=v.moves({verbose:!0}),t=e[Math.floor(Math.random()*e.length)];e.length>0&&(v.move(t.san),N(v.fen()),u([t.from,t.to]))},C=function(){return"w"===v.turn()?"white":"black"};return n?Object(s.jsx)("div",{className:"h-screen w-screen flex justify-center items-center",children:Object(s.jsx)(h,{className:"w-32 h-32 text-blue-600 font-bold text-2xl",text:"Connecting"})}):Object(s.jsxs)("div",{className:"bg-white h-screen flex justify-center items-center",children:[Object(s.jsx)(f.a,{width:"40vw",height:"40vw",turnColor:C(),movable:function(){var e=new Map;return v.SQUARES.forEach((function(t){var n=v.moves({square:t,verbose:!0});n.length&&e.set(t,n.map((function(e){return e.to})))})),{free:!1,dests:e,color:"white"}}(),lastMove:l,fen:w,onMove:function(e,t){for(var n=v.moves({verbose:!0}),s=0,c=n.length;s<c;s++)if(-1!==n[s].flags.indexOf("p")&&n[s].from===e)return O([e,t]),void E(!0);v.move({from:e,to:t,promotion:"x"})&&(N(v.fen()),u([e,t]),setTimeout(M,500))}}),Object(s.jsx)(j,{visible:S,children:["q","r","b","n"].map((function(e){return Object(s.jsx)("div",{className:"group flex justify-center items-center w-24 h-24 transition-all rounded-full transform hover:bg-blue-500 hover:scale-110",children:Object(s.jsx)("div",{onClick:function(){return function(e){var t=d[0],n=d[1];v.move({from:t,to:n,promotion:e}),N(v.fen()),u([t,n]),E(!1),setTimeout(M,500)}(e)},className:"piece ".concat(C(),"-").concat(e," w-5/6 h-5/6 transition-all transform group-hover:-translate-y-1")},e)})}))})]})}function p(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(O,{})})}n(105);a.a.render(Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.956377ab.chunk.js.map